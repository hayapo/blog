---
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";
import { css } from "root/styled-system/css";
import { gridItem } from "root/styled-system/patterns";
import FormattedDate from "@/components/FormattedDate.astro";

interface Props {
  post: CollectionEntry<"blog">;
}

const { post } = Astro.props;
---

<div
  class={css({
    position: "relative",
    p: "1rem",
    _hover: { backgroundColor: { base: "#CACACA", _dark: "#1A1A1A" } },
    display: {
      base: "none",
      sm: "unset",
    },
  })}
>
  <a
    href={`/${post.slug}`}
    title={post.data.title}
    class={css({
      position: "absolute",
      justifyContent: "evenly",
      inset: 0,
      w: "100%",
      h: "100%",
      px: "1rem",
      py: "2rem",
    })}></a>
  <div class={css({ fontSize: "xx-large", fontWeight: "bold" })}>
    {post.data.title}
  </div>
  <div>{post.data.description}</div>
  <FormattedDate date={post.data.publishDate} />
</div>
<div class={gridItem({ colSpan: 2, display: { base: "none", sm: "unset" } })}>
  <a href={`/${post.slug}`} title={post.data.title}>
    <Image
      src={post.data.coverImage}
      alt={post.data.title}
      width={post.data.coverImage.width}
      height={post.data.coverImage.height}
      class={css({ h: "100%", rounded: "1rem" })}
    />
  </a>
</div>
